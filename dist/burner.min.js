/**
 * JS Burner
 * Copyright (c) 2016 H.Alper Tuna <halpertuna@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

define("license",function(){}),define("burner/core/Utils",[],function(){return{isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"object"==typeof t},isArray:function(t){return t instanceof Array},isFunction:function(t){return"function"==typeof t},isUndefined:function(t){return"undefined"==typeof t},isNull:function(t){return null===t},isSet:function(t){if(arguments.length>1){for(var e in arguments)if(!this.isSet(arguments[e]))return!1;return!0}return!this.isUndefined(t)&&!this.isNull(t)},isUnset:function(t){if(arguments.length>1){for(var e in arguments)if(!this.isUnset(arguments[e]))return!1;return!0}return this.isUndefined(t)||this.isNull(t)},isEmpty:function(t){if(arguments.length>1){for(var e in arguments)if(!this.isEmpty(arguments[e]))return!1;return!0}switch(typeof t){case"string":return""==t|"0"==t;case"boolean":return 0==t;case"number":return 0==t;case"undefined":return!0;case"object":return null===t?!0:this.isArray(t)?0==t.length:0==Object.keys(t).length;default:return t?!1:!0}},toString:function(t){return t.toString()},toFloat:function(t){return t=Number.parseFloat(t),isNaN(t)?0:t},argToArr:function(t){return[].slice.call(t)},pad:function(t,e,n){return n=n||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(n)+t},each:function(t,e,n){n||(n=this);for(var i in t)if(e.call(n,t[i],i)===!1)break},map:function(t,e,n){n||(n=this);var i=[];return this.each(t,function(t){i.push(e.call(n,t))}),i},inArray:function(t,e){return-1!=t.indexOf(e)},cloneArray:function(t){return t.slice()},extend:function(){return Object.assign.apply(null,arguments)},clone:function(){var t=this.argToArr(arguments);return t.unshift({}),this.extend.apply(null,t)}}}),define("burner/core/createClass",["./Utils"],function(t){function e(){return p++}function n(){return{_id:e(),"new":d,extend:f,implement:g}}function i(e){var n={},i={};e.init&&(e._init=e.init),delete e.init;for(var s in e)if(t.isFunction(e[s]))i[s]=e[s];else{if(t.isObject(e[s]))throw"Class initial properties cannot be an object or null. You should define them inside constructor (init) function.";n[s]=e[s]}return{_properties:n,_methods:i}}function s(e,n){return t.isSet(n._methods[e])&&t.isFunction(n._methods[e])?!0:n._super?s(e,n._super):!1}function r(e){if(!t.isSet(e._id))throw"Parameter has to be a Class";return this._classId==e._id?!0:t.isSet(this["super"])?r.call(this["super"],e):!1}function o(e){if(!t.isArray(e))throw"Parameter has to be an Interface";var n=!1;return t.each(this._implements,function(t){return t===e?(n=!0,!1):void 0},this),n?!0:t.isSet(this["super"])?o.call(this["super"],e):!1}function a(t){return this._properties[t]}function u(t,e){return this._properties[t]=e,this.ref}function h(t){return delete this._properties[t],this.ref}function c(e,n){return t.isSet(n)||(n=1),this._properties[e]+=n,this.ref}function l(e,n,i){var s;i?s=function(){this["super"]._init.apply(this["super"],arguments)}:(i=s={},s._properties=t.clone(e._properties)),t.extend(s,{_classId:e._id,_implements:e._implements,isInstanceOf:r,isImplementedBy:o,get:a.bind(i),set:u.bind(i),unset:h.bind(i),inc:c.bind(i),ref:i});for(var d in e._methods)s[d]=e._methods[d].bind(s);if(n.length>0)for(var f in e._methods)for(var d in n){if(n[d][f])break;n[d][f]=e._methods[f].bind(s)}return e._super&&(n.unshift(s),s["super"]=l(e._super,n,i)),s}function d(){var t=l(this,[]);return t._init.apply(t,arguments),t}function f(e){var s=i(e);return t.extend(n(),{_methods:s._methods,_properties:t.clone(this._properties,s._properties),_super:this,_implements:[]})}function g(){return t.each(arguments,function(t){this._implements.push(t);for(var e in t){var n=t[e];s(n,this)||console.error('"'+n+'" method is not defined according to implemented interface.')}},this),this}var p=0;return function(e){return e.init||(e._init=function(){}),t.extend(n(),i(e))}}),define("burner/core/EventHandler",["./createClass"],function(t){return t({handle:function(t){var e=this.get("events");return e||(e={},this.set("events",e)),e[t]=[],this.ref},on:function(t,e){var n=this.get("events");if(!n||!n[t])throw["NO_ACTION",'There is no "'+t+'" action to handle.'];return n[t].push(e),this.ref},off:function(t,e){var n=this.get("events");if(!e)return n[t]=[],this.ref;if(!n||!n[t])throw["NO_ACTION",'There is no "'+t+'" action to handle.'];var i=n[t].indexOf(e);return-1!=i&&n[t].splice(i,1),this.ref},trigger:function(t,e){var n=this.get("events");if(!n||!n[t])throw["NO_ACTION",'There is no "'+t+'" action to handle.'];for(var i in n[t])n[t][i].call(this.ref,e);return this.ref}})}),define("burner/core/Ajax",["./Utils","./EventHandler"],function(t,e){function n(){var t=this.get("xhttp");if(4==t.readyState){this.trigger("always",t.responseText);var e=!1;if(200==t.status){if(this.get("events").success.length){var n;try{n=JSON.parse(t.responseText)}catch(i){e=!0}e||this.trigger("success",n)}}else e=!0;e&&this.trigger("fail",t.responseText)}}function i(e,n,s){if(t.isArray(n)){e+="[]";for(var r in n)i(e,n[r],s)}else if(t.isObject(n))for(var r in n)i(e+"["+r+"]",n[r],s);else s.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function s(t){var e=[];for(var n in t){var s=t[n];i(n,s,e)}return e.join("&")}return e.extend({connectionIsOpen:!1,init:function(t){this.handle("send"),this.handle("success"),this.handle("fail"),this.handle("always"),this.handle("maxConnection"),this.on("send",this.set.bind(this,"connectionIsOpen",!0)),this.on("always",this.set.bind(this,"connectionIsOpen",!1)),this.on("fail",function(t){console.warn('Response for ajax has fail: "'+t+'"')}),this.on("maxConnection",function(t){console.warn("Reached max connection.")});var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.set("xhttp",e),t&&this.setUrl(t)},method:"POST",setMethod:function(t){return this.set("method",t),this.ref},setUrl:function(t){return this.set("url",t),this.ref},send:function(t){if(this.get("connectionIsOpen"))return console.warn("Last connection hasn't closed yet."),this.ref;var e=this.get("ajaxGroup");if(e){if(!e.hasRoom())return this.trigger("maxConnection"),e.trigger("maxConnection"),this.ref;e.trigger("openedConnection")}var i=this.get("xhttp"),r=s(t),o=this.get("method"),a=this.get("url");return"GET"==o&&(a+="?"+r),i.open(o,a,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=n.bind(this),t&&"GET"!=o?i.send(r):i.send(),this.trigger("send"),this.ref},bound:!1,bind:function(t){if(this.get("bound"))throw"This ajax instance is already bound a group.";return this.set("bound",!0),this.set("ajaxGroup",t),this.on("always",t.trigger.bind(t,"closedConnection")),this.ref}})}),define("burner/core/AjaxGroup",["./EventHandler"],function(t){function e(){0==this.get("connections")&&this.trigger("openedFirstConnection"),this.inc("connections"),this.trigger("change")}function n(){this.inc("connections",-1),0==this.get("connections")&&this.trigger("closedLastConnection"),this.trigger("change")}return t.extend({connections:0,maxConnection:0,init:function(){this.handle("change"),this.handle("openedConnection"),this.handle("closedConnection"),this.handle("openedFirstConnection"),this.handle("closedLastConnection"),this.handle("maxConnection"),this.on("openedConnection",e.bind(this)),this.on("closedConnection",n.bind(this))},setMaxConnection:function(t){return this.set("maxConnection",t),this.ref},hasRoom:function(){var t=this.get("maxConnection");return 0==t?!0:this.countConnections()<t},countConnections:function(){return this.get("connections")}})}),define("burner/ui/TextElement",["../core/createClass"],function(t){return t({init:function(t){"&nbsp;"==t&&(t="Â "),this.set("dom",document.createTextNode(t))},getDom:function(){return this.get("dom")}})}),define("burner/ui/Element",["../core/EventHandler","../core/Utils","./TextElement"],function(t,e,n){return t.extend({init:function(t){t||(t="div"),this.set("dom",e.isString(t)?document.createElement(t):t),this.set("children",[]),this.handle("show"),this.handle("hide"),this.on("show",function(){this.removeClass("jb-hidden")}),this.on("hide",function(){this.addClass("jb-hidden")})},getAttr:function(t){return this.getDom().getAttribute(t)},setAttr:function(t,n){if(e.isBoolean(n)){if(!n)return this.removeAttr(t),this.ref;n=t}return this.getDom().setAttribute(t,n),this.ref},removeAttr:function(t){return this.getDom().removeAttribute(t),this.ref},getStyle:function(t){var e=this.getAttr("style");if(null!=e){e=e.split(";");for(var n in e)if(""!=e[n]){var i=e[n].split(":");if(i[0]==t)return i[1]}}},setStyle:function(t,n){var i;e.isSet(n)?(i={},i[t]=n):e.isObject(t)&&(i=t);var s=this.getAttr("style"),r={};if(null!=s){s=s.split(";");for(var o in s)if(""!=s[o]){var a=s[o].split(":");r[a[0]]=a[1]}}e.extend(r,i);var u="";for(var o in r)e.isNumber(r[o])&&(r[o]+="px"),u+=o+":"+r[o]+";";return this.setAttr("style",u),this.ref},removeStyle:function(t){var n=this.getAttr("style"),i={};if(null!=n){n=n.split(";");for(var s in n)if(""!=n[s]){var r=n[s].split(":");r[0]!=t&&(i[r[0]]=r[1])}}var o="";for(var s in i)e.isNumber(i[s])&&(i[s]+="px"),o+=s+":"+i[s]+";";return this.setAttr("style",o),this.ref},addClass:function(t){var e=this.getDom().classList;t=t.split(" ");for(var n in t)e.add(t[n]);return this.ref},removeClass:function(t){var e=this.getDom().classList;if(0==e.length)return this.ref;t=t.split(" ");for(var n in t)e.remove(t[n]);return this.ref},hasClass:function(t){return this.getDom().classList.contains(t)},toggleClass:function(t){return this.setClass(t,!this.hasClass(t))},setClass:function(t,e){return e?this.addClass(t):this.removeClass(t)},clear:function(){return this.getDom().innerHTML="",this.ref},addAt:function(t,i){var s=this.get("children");if(!e.isUnset(t)){if(e.isNumber(t)&&(t=e.toString(t)),!e.isString(t)&&!t.getDom)throw"Child has to be an Element, string or number. ("+t+")";e.isString(t)&&(t=n["new"](t));var r=this.getDom(),o=t.getDom();return e.isUnset(i)||i==s.length?(r.appendChild(o),s.push(t)):(r.insertBefore(o,s[i].getDom()),s.splice(i,0,t)),t.set("parent",this.ref),this.ref}},add:function(){return e.each(arguments,function(t){this.addAt(t)},this),this.ref},prepend:function(){return e.each(arguments,function(t,e){this.addAt(t,e)},this),this.ref},addNear:function(t,e,n){if(e.getParent()!=this)throw"Target element's parent and parent which will be added into must be the same element";var i=this.getChildren().indexOf(e);return n&&i++,this.addAt(t,i)},addAfter:function(t,e){return this.addNear(t,e,!0)},addBefore:function(t,e){return this.addNear(t,e)},remove:function(t){if(t){this.getDom().removeChild(t.getDom()),t.unset("parent");var e=this.get("children");return e.splice(e.indexOf(t)-1,1),this.ref}var n=this.get("parent");return n&&n.remove(this),this.ref},getParent:function(){return this.get("parent")},getChildren:function(){return this.get("children")},getChildAt:function(t){return this.getChildren()[t]},onDom:function(t,e){return this.getDom().addEventListener(t,e),this.ref},offDom:function(t,e){return this.getDom().removeEventListener(t,e),this.ref},triggerDom:function(t){return this.getDom().dispatchEvent(new Event(t)),this.ref},hide:function(){return this.hasClass("jb-hidden")?this.ref:this.trigger("hide")},show:function(){return this.hasClass("jb-hidden")?this.trigger("show"):this.ref},isShown:function(){return!this.hasClass("jb-hidden")},getDom:function(){return this.get("dom")}})}),define("burner/ui/interfaces/iComponent",[],function(){return["focus","setDisabled","setTheme"]}),define("burner/ui/Group",["../core/Utils","./Element","./interfaces/iComponent"],function(t,e,n){return e.extend({init:function(t){this["super"]();var e;switch(t){case"SPACED":e="jb-spaced-group";break;case"BLOCK":e="jb-group jb-group-block";break;default:e="jb-group"}this.addClass(e)},setDisabled:function(e){return t.each(this.get("children"),function(t){t.setDisabled(e)}),this.ref},setTheme:function(e){return t.each(this.get("children"),function(t){t.setTheme(e)}),this.ref},focus:function(){return this.getChildAt(0).focus(),this.ref}}).implement(n)}),define("burner/ui/Breadcrumb",["./Group"],function(t){return t.extend({init:function(t){this["super"](t),this.addClass("jb-breadcrumb")}})}),define("burner/ui/ComponentContainer",["./Element"],function(t){return t.extend({init:function(e){this["super"](),this.addClass("jb-com-container"),this.add(e),this.set("component",e);var n=t["new"]().addClass("jb-com-message").hide();this.add(n),this.set("message",n)},getComponent:function(){return this.get("component")},setBlock:function(t){return this.setClass("jb-com-container-block",t),this.ref},setMessage:function(t,e){var n=this.get("message").clear().add(t).removeClass("jb-text-primary jb-text-success jb-text-danger jb-text-warning jb-text-info").show();switch(e){case"PRIMARY":n.addClass("jb-text-primary");break;case"SUCCESS":n.addClass("jb-text-success");break;case"DANGER":n.addClass("jb-text-danger");break;case"WARNING":n.addClass("jb-text-warning");break;case"INFO":n.addClass("jb-text-info")}return this.ref},clearMessage:function(){this.get("message").hide()}})}),define("burner/ui/Icon",["../core/Utils","./Element"],function(t,e){return e.extend({init:function(t){this["super"]("i"),this.addClass("fa fa-"+t)}})}),define("burner/ui/utils/setTheme",["../../core/Utils"],function(t){return function(e){var n=this.getComponent(),i=this.themeClassPrefix;switch(t.isUnset(i)&&(i=""),n.removeClass("jb-"+i+"primary jb-"+i+"danger jb-"+i+"warning jb-"+i+"info jb-"+i+"dark"),e){case"PRIMARY":n.addClass("jb-"+i+"primary");break;case"SUCCESS":n.addClass("jb-"+i+"success");break;case"DANGER":n.addClass("jb-"+i+"danger");break;case"WARNING":n.addClass("jb-"+i+"warning");break;case"INFO":n.addClass("jb-"+i+"info");break;case"DARK":n.addClass("jb-"+i+"dark")}return this.ref}}),define("burner/ui/Button",["../core/Utils","./ComponentContainer","./Element","./Icon","./utils/setTheme","./interfaces/iComponent"],function(t,e,n,i,s,r){return e.extend({init:function(e){var i=n["new"]("button").setAttr("type","button").addClass("jb-button");this["super"](i),this.handle("click"),i.getDom().addEventListener("click",this.trigger.bind(this,"click"));var s=n["new"]().addClass("jb-button-caption");i.add(s),this.set("captionElement",s),t.isSet(e)||(e=""),this.setCaption(e)},setCaption:function(t){var e=this.get("captionElement").clear();return""==t?e.hide():e.add(t).show(),this.ref},setIcon:function(t){var e=this.getComponent(),n=this.get("iconElement");if(n){if(t==this.get("iconName"))return this.ref;n.remove()}return n=i["new"](t).addClass("jb-button-icon"),e.prepend(n),this.set("iconElement",n),this.set("iconName",t),this.ref},setTheme:s,setDisabled:function(t){return t?this.getComponent().setAttr("disabled","disabled"):this.getComponent().removeAttr("disabled"),this.ref},focus:function(){return this.getComponent().getDom().focus(),this.ref}}).implement(r)}),define("burner/ui/interfaces/iInput",[],function(){return["setDisabled","setValue","setDefaultValue","resetValue","getValue"]}),define("burner/ui/Check",["../core/Utils","./ComponentContainer","./Element","./Icon","./utils/setTheme","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i,s,r,o){function a(){var t=this.get("icon");this.getValue()?t.removeClass("jb-unvisible"):t.addClass("jb-unvisible")}function u(){var e=this.get("value"),n=this.get("group"),i=n&&"RADIO"==n.get("type");if(i)var s=n.getValue();this.toggle();var r=this.get("value");e!=r&&(this.trigger("change",{value:r}),n&&(i&&t.each(n.get("options"),function(t){return t.get("groupValue")==s?(t.trigger("change",{value:!1}),!1):void 0}),n.trigger("change",{value:n.getValue()})))}return e.extend({value:!1,init:function(t){var e=n["new"]("button");e.addClass("jb-check"),this["super"](e),this.setIcon("check"),this.set("groupValue",t),this.handle("change"),this.handle("click"),this.on("click",u.bind(this)),e.getDom().addEventListener("click",u.bind(this))},bind:function(t){this.set("group",t);var e=t.get("options");return e.push(this),"RADIO"==t.get("type")&&(this.getComponent().addClass("jb-radio"),this.setIcon("circle"),1==e.length&&this.check()),this.ref},setIcon:function(t){var e=this.get("icon");return e&&e.remove(),e=i["new"](t+" jb-check-icon"),this.getComponent().add(e),this.set("icon",e),a.call(this),this.ref},setDisabled:function(t){var e=this.getComponent();return t?e.setAttr("disabled","disabled"):e.removeAttr("disabled"),this.ref},setGroupValue:function(t){return this.set("groupValue",t)},setValue:function(t,e){if(!e){var n=this.get("group");if(n){if("RADIO"==n.get("type"))return t&&n.setValue(this.get("groupValue")),this.ref;var i=n.getValue(),s=this.get("groupValue");t?i.push(this.get("groupValue")):i.splice(i.indexOf(s),1)}}return this.set("value",t),a.call(this),this.ref},getValue:function(){return this.get("value")},toggle:function(){return this.setValue(!this.get("value"))},check:function(){return this.setValue(!0)},uncheck:function(){return this.setValue(!1)},defaultValue:!1,setDefaultValue:function(t){return this.set("defaultValue",t),this.setValue(t),this.ref},resetValue:function(){return this.setValue(this.get("defaultValue")),this.ref},setTheme:s,focus:function(){return this.getComponent().getDom().focus(),this.ref}}).implement(r,o)}),define("burner/ui/CheckGroup",["../core/Utils","../core/EventHandler","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i){return e.extend({type:"CHECK",init:function(){this.set("options",[]),this.set("value",[]),this.set("defaultValue",[]),this.handle("change")},setValue:function(e){return this.set("value",e),t.each(this.get("options"),function(n){n.setValue(t.inArray(e,n.get("groupValue")),!0)}),this.ref},getValue:function(){return this.get("value")},setDefaultValue:function(e){return this.set("defaultValue",e),this.setValue(t.cloneArray(e)),this.ref},resetValue:function(){return this.setValue(t.cloneArray(this.get("defaultValue"))),this.ref},setDisabled:function(e){return t.each(this.get("options"),function(t){t.setDisabled(e)}),this.ref},setTheme:function(e){return t.each(this.get("options"),function(t){t.setTheme(e)}),this.ref},focus:function(){this.get("options")[0].focus()}}).implement(n,i)}),define("burner/ui/Document",["../core/Utils","./Element"],function(t,e){var n=[];return e.extend({init:function(){this.set("dom",document.body),this.set("children",n)}})}),define("burner/ui/List",["../core/Utils","./ComponentContainer","./Element","./utils/setTheme","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i,s,r){function o(t){this.getComponent().addClass("jb-focus")}function a(t){this.getComponent().removeClass("jb-focus")}function u(t,e){var n=this.get("selectedItem");if(n){if(n.value==t.value)return;n.button.removeClass("jb-selected")}t.button.addClass("jb-selected"),this.set("selectedItem",t),e&&this.trigger("change",{value:t.value,title:t.title}),this.trigger("selectedInternally")}return e.extend({init:function(t){var e=n["new"]("ul").addClass("jb-list");this["super"](e),this.handle("change"),this.handle("selectedInternally"),this.addClass("jb-list-container"),this.setItems(t)},setItems:function(e){var i={};this.set("options",i);var s,r=this.getComponent();t.each(e,function(e){if("SEPARATOR"==e.type){var h=n["new"]("li").addClass("jb-list-separator");return t.isSet(e.title)&&h.add(n["new"]().addClass("jb-list-separator-title").add(e.title)),void r.add(h)}if(r.add(e.li=n["new"]("li").add(e.button=n["new"]("button").addClass("jb-list-button").add(e.title).onDom("focus",o.bind(this)).onDom("blur",a.bind(this)).onDom("click",u.bind(this,e,!0)))),t.isSet(e.value)){if(t.isSet(i[e.value]))throw'Duplicate item value "'+e.value+'" with title "'+e.title+'" at List component.';i[e.value]=e}t.isUnset(s)&&(s=e)},this),this.set("firstItem",s),this.setDefaultValue(s.value)},setHeight:function(t){return this.getComponent().setStyle("height",t),this.ref},setDisabled:function(e){return this.getComponent().setClass("jb-disabled",e),t.each(this.get("options"),function(t){t.button.setAttr("disabled",e)}),this.ref},setTheme:i,getValue:function(){return this.get("selectedItem").value},getTitle:function(){return this.get("selectedItem").title},setValue:function(e){var n=this.get("options");if(t.isUnset(n[e]))throw'There is no option has "'+e+'" value';return u.call(this,n[e]),this.ref},setDefaultValue:function(t){return this.set("defaultValue",t),this.setValue(t),this.ref},resetValue:function(){return this.setValue(this.get("defaultValue")),this.ref},focus:function(){return this.get("firstItem").button.triggerDom("focus"),this.ref}}).implement(s,r)}),define("burner/ui/utils/SpaceFinder",["../../core/Utils"],function(t){return{targetRect:null,thisRect:null,checkDirection:function(t){switch(t){case"TOP":return this.targetRect.top>=this.thisRect.height;case"BOTTOM":return document.documentElement.clientHeight-this.targetRect.top-this.targetRect.height>=this.thisRect.height;case"LEFT":return this.targetRect.left>=this.thisRect.width;case"RIGHT":return document.documentElement.clientWidth-this.targetRect.left-this.targetRect.width>=this.thisRect.width}},calculateAlign:function(t){switch(t){case"CENTER":return this.targetRect.left+(this.targetRect.width-this.thisRect.width)/2;case"MIDDLE":return this.targetRect.top+(this.targetRect.height-this.thisRect.height)/2;case"LEFT":return this.targetRect.left;case"RIGHT":return this.targetRect.left+this.targetRect.width-this.thisRect.width;case"TOP":return this.targetRect.top;case"BOTTOM":return this.targetRect.top+this.targetRect.height-this.thisRect.height;case"PAGE_TOP":return 0;case"PAGE_BOTTOM":return document.documentElement.clientHeight-this.thisRect.height;case"PAGE_LEFT":return 0;case"PAGE_RIGHT":return document.documentElement.clientWidth-this.thisRect.width}},find:function(e,n,i,s){this.targetRect=e,this.thisRect=n;var r,o,a;switch(i){case"TOP":a=[["TOP",s],["BOTTOM",s],["RIGHT","TOP"==i?"BOTTOM":"TOP"],["LEFT","TOP"==i?"BOTTOM":"TOP"]];break;case"BOTTOM":a=[["BOTTOM",s],["TOP",s],["RIGHT","TOP"==i?"BOTTOM":"TOP"],["LEFT","TOP"==i?"BOTTOM":"TOP"]];break;case"RIGHT":a=[["RIGHT",s],["BOTTOM","RIGHT"==i?"LEFT":"RIGHT"],["TOP","RIGHT"==i?"LEFT":"RIGHT"],["LEFT",s]];break;case"LEFT":a=[["LEFT",s],["BOTTOM","RIGHT"==i?"LEFT":"RIGHT"],["TOP","RIGHT"==i?"LEFT":"RIGHT"],["RIGHT",s]]}i="CORNER",s="",t.each(a,function(t){return this.checkDirection(t[0])?(i=t[0],s=t[1],!1):void 0},this);var u=this.calculateAlign(s),h=!1;if("TOP"==s||"BOTTOM"==s||"MIDDLE"==s){var c=this.thisRect.height<=document.documentElement.clientHeight;c?0>u?s="PAGE_TOP":u+this.thisRect.height>document.documentElement.clientHeight&&(s="PAGE_BOTTOM"):(s="PAGE_TOP",h=document.documentElement.clientHeight)}else("LEFT"==s||"RIGHT"==s||"CENTER"==s)&&(0>u?s="PAGE_LEFT":u+this.thisRect.width>document.documentElement.clientWidht&&(s=this.calculateAlign("PAGE_RIGHT")<0?"PAGE_LEFT":"PAGE_RIGHT"));switch(i){case"TOP":r=this.targetRect.relativeTop-this.thisRect.height;break;case"BOTTOM":r=this.targetRect.relativeTop+this.targetRect.height;break;case"LEFT":o=this.targetRect.relativeLeft-this.thisRect.width;break;case"RIGHT":o=this.targetRect.relativeLeft+this.targetRect.width;break;case"CORNER":o=this.targetRect.relativeLeft-this.targetRect.left,r=this.targetRect.relativeTop-this.targetRect.top}switch(s){case"CENTER":case"LEFT":case"RIGHT":case"PAGE_LEFT":case"PAGE_RIGHT":o=this.calculateAlign(s)-this.targetRect.left+this.targetRect.relativeLeft;break;case"MIDDLE":case"TOP":case"BOTTOM":case"PAGE_TOP":case"PAGE_BOTTOM":r=this.calculateAlign(s)-this.targetRect.top+this.targetRect.relativeTop}var l;switch(s){case"LEFT":case"RIGHT":case"TOP":case"BOTTOM":l="jb-popup-align-"+s.toLowerCase()}return{popupClass:l,top:r,left:o,height:h}}}}),define("burner/ui/Popup",["../core/Utils","./Element","./Group","./utils/SpaceFinder"],function(t,e,n,i){function s(t){this.hasClass("jb-hidden")?this.show():this.hide(),t.stopPropagation()}function r(){h&&h!==this&&h.hide(),h=this,window.addEventListener("click",this.hide)}function o(){h=null,window.removeEventListener("click",this.hide)}function a(t){t.stopPropagation()}function u(){this.getParent()||this.get("target").add(this),this.removeClass("jb-popup-align-top jb-popup-align-bottom jb-popup-align-left jb-popup-align-right"),this.removeStyle("height");var t=this.get("targetDom").getBoundingClientRect();t.relativeTop=this.get("targetDom").offsetTop,t.relativeLeft=this.get("targetDom").offsetLeft;var e=this.getDom().getBoundingClientRect(),n=i.find(t,e,this.get("direction"),this.get("align"));if(n.popupClass&&this.addClass(n.popupClass),this.setStyle({top:n.top,left:n.left}),n.height!==!1){if(!this.getChildAt(0).getComponent)return;var s=window.getComputedStyle(this.getChildAt(0).getComponent().getDom(),null),r=window.getComputedStyle(this.getDom(),null);n.height-=2*(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("border-top-width")))+2*parseInt(r.getPropertyValue("padding-top")),this.setStyle("height",n.height)}}var h;return e.extend({init:function(t){this["super"](),this.addClass("jb-popup"),this.hide(),this.on("show",u.bind(this)),t&&this.add(t)},direction:"TOP",align:"CENTER",setDirection:function(e,n){switch(e){case"TOP":case"BOTTOM":if(t.isUnset(n))n="CENTER";else if("LEFT"!=n&&"RIGHT"!=n&&"CENTER"!=n)throw"Align have to be LEFT, RIGHT or CENTER for direction "+e;break;case"LEFT":case"RIGHT":if(t.isUnset(n))n="MIDDLE";else if("TOP"!=n&&"BOTTOM"!=n&&"MIDDLE"!=n)throw"Align have to be TOP, BOTTOM or MIDDLE for direction "+e;break;default:throw"Direction have to be one of TOP, BOTTOM, LEFT and RIGHT"}return this.set("direction",e),this.set("align",n),this.ref},bound:!1,bind:function(t,e){if(this.get("bound"))throw"Popup is already bound.";if(this.set("bound",!0),!t.hasClass("jb-com-container"))throw"To bind popup, component has to have container.";var n=t.getComponent(),i=n.getDom();if(this.set("target",t),this.set("targetComponent",n),this.set("targetDom",n.getDom()),"NONE"==e)return this;switch(e){case"FOCUS":i.addEventListener("focus",this.show),i.addEventListener("blur",this.hide);break;case"CLICK":t.on("click",s.bind(this)),this.on("show",r.bind(this)),this.on("hide",o.bind(this)),this.getDom().addEventListener("click",a.bind(this));break;case"HOVER":default:i.addEventListener("mouseover",this.show),i.addEventListener("mouseout",this.hide)}return this.ref}})}),define("burner/ui/Dropdown",["../core/Utils","./Button","./Element","./Icon","./List","./Popup","./interfaces/iInput"],function(t,e,n,i,s,r,o){function a(t){this.trigger("change",t)}function u(){this.setCaption(this.getTitle()),this.get("popup").hide()}return e.extend({init:function(t){this["super"](),this.addClass("jb-dropdown"),this.handle("change"),this.getComponent().add(i["new"]("caret-down jb-button-icon"));var e=s["new"](t).addClass("jb-dropdown-list").on("selectedInternally",u.bind(this)).on("change",a.bind(this));this.set("list",e);var n=r["new"](e).bind(this,"CLICK").setDirection("BOTTOM","RIGHT");this.set("popup",n),this.setCaption(e.getTitle())},getValue:function(){return this.get("list").getValue()},getTitle:function(){return this.get("list").getTitle()},setValue:function(t){return this.get("list").setValue(t),this.ref},setDefaultValue:function(t){return this.get("list").setDefaultValue(t),this.ref},resetValue:function(){return this.get("list").resetValue(),this.ref}}).implement(o)}),define("burner/ui/Input",["../core/Utils","./ComponentContainer","./Element","./utils/setTheme","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i,s,r){function o(t){this.trigger("change",{value:t.target.value})}return e.extend({init:function(){var t=n["new"]("input").setAttr("type","text").addClass("jb-input");this["super"](t),this.addClass("jb-com-container jb-input-container"),this.handle("change"),t.getDom().addEventListener("change",o.bind(this))},setPlaceholder:function(t){return this.get("component").setAttr("placeholder",t),this.ref},setTheme:i,setDisabled:function(t){var e=this.getComponent();return t?e.setAttr("disabled","disabled"):e.removeAttr("disabled"),this.ref},focus:function(){return this.getComponent().getDom().focus(),this.ref},setValue:function(t){return this.getComponent().getDom().value=t,this.ref},getValue:function(t){return this.getComponent().getDom().value},defaultValue:"",setDefaultValue:function(t){return this.set("defaultValue",t),this.setValue(t),this.ref},resetValue:function(){return this.setValue(this.get("defaultValue"))},setRequired:function(t){return t?this.setAttr("required","required"):this.removeAttr("required"),this.ref}}).implement(s,r)}),define("burner/ui/Spinner",["../core/Utils","./Button","./ComponentContainer","./Element","./Group","./Input","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i,s,r,o,a){function u(t){t*=10,f.call(this,t),clearTimeout(this.get("clock")),this.set("clock",setInterval(f.bind(this,t),40))}function h(t){f.call(this,t),clearTimeout(this.get("clock")),this.set("clock",setInterval(f.bind(this,t),40)),this.set("delay",setTimeout(u.bind(this,t),2e3))}function c(t){f.call(this,t),this.set("clock",setInterval(f.bind(this,t),160)),this.set("delay",setTimeout(h.bind(this,t),1e3))}function l(){clearTimeout(this.get("delay")),clearTimeout(this.get("clock"))}function d(t){f.call(this,t),this.set("delay",setTimeout(c.bind(this,t),500))}function f(t){var e=this.get("value")+t;if(this.get("loop")){var n=this.get("max"),i=this.get("min");return e>n?e=i:i>e&&(e=n),this.set("value",e),m.call(this),this.ref}var s=this.get("input");return s.setValue(e),g.call(this),p.call(this),this.ref}function g(){var e=t.toFloat(this.get("input").getValue()),n=this.get("max"),i=this.get("min");return t.isSet(n)&&e>n?(e=n,l.call(this)):t.isSet(i)&&i>e&&(e=i,l.call(this)),this.set("value",e),m.call(this),this.ref}function p(){this.trigger("change",{value:this.getValue()})}function m(){var e=this.get("value"),n=this.get("pad");return t.isSet(n)&&(e=t.pad(e,n)),this.get("input").setValue(e),this.ref}return n.extend({init:function(){var t=s["new"]();this["super"](t),this.handle("change");var n=r["new"]().on("change",g.bind(this)).on("change",p.bind(this)),i=e["new"]().setIcon("angle-down");i.getDom().addEventListener("mousedown",d.bind(this,-1)),i.getDom().addEventListener("mouseup",l.bind(this)),i.getDom().addEventListener("mouseout",l.bind(this));var o=e["new"]().setIcon("angle-up");o.getDom().addEventListener("mousedown",d.bind(this,1)),o.getDom().addEventListener("mouseup",l.bind(this)),o.getDom().addEventListener("mouseout",l.bind(this)),this.set("value",0),this.set("input",n),this.set("buttonUp",o),this.set("buttonDown",i),t.addClass("jb-spinner"),t.add(i,n,o),m.call(this)},buttonsAreShown:!0,showButtons:function(t){return this.get("buttonsAreShown")==t?this.ref:(t?this.getComponent().prepend(this.get("buttonDown")).add(this.get("buttonUp")):(this.get("buttonDown").remove(),this.get("buttonUp").remove()),this.set("buttonsAreShown",t),this.ref)},setMax:function(t){return null===t&&this.set("loop",!1),this.set("max",t),g.call(this),this.ref},min:0,setMin:function(t){return null===t&&this.set("loop",!1),this.set("min",t),g.call(this),this.ref},loop:!1,setLoop:function(e){return this.set("loop",t.isSet(this.get("max"),this.get("min"))?e:!1)},setPad:function(t){return t===!1?this.unset("pad"):this.set("pad",t),m.call(this),this.ref},getValue:function(){return this.get("value")},setValue:function(t){return this.get("input").setValue(t),g.call(this),this.ref},defaultValue:0,setDefaultValue:function(t){return this.setValue(t),this.set("defaultValue",this.getValue()),this.ref},resetValue:function(){return this.setValue(this.get("defaultValue"))},focus:function(){return this.get("input").focus()},setTheme:function(t){this.getComponent().setTheme(t)},setDisabled:function(t){this.getComponent().setDisabled(t)}}).implement(o,a)}),define("burner/ui/Label",["../core/Utils","./ComponentContainer","./Element","./Icon","./Spinner","./utils/setTheme","./interfaces/iComponent"],function(t,e,n,i,s,r,o){
function a(){return"label_"+u++}var u=0;return e.extend({init:function(e){var i=n["new"]("label").addClass("jb-label");this["super"](i);var s=n["new"]().addClass("jb-label-caption");i.add(s),this.set("captionElement",s),t.isSet(e)||(e=""),this.setCaption(e)},setBold:function(t){return this.get("component").setClass("jb-label-bold",t),this.ref},setBoxed:function(t){return this.get("component").setClass("jb-label-boxed",t),this.ref},setCaption:function(t){var e=this.get("captionElement").clear();return""===t?e.hide():e.add(t).show(),this.ref},setIcon:function(t){var e=this.get("iconElement");return e&&e.remove(),e=i["new"](t).addClass("jb-label-icon"),this.get("component").prepend(e),this.set("iconElement",e),this.ref},setDisabled:function(t){var e=this.get("component");return t?(e.addClass("jb-label-disabled"),this.ref):(e.removeClass("jb-label-disabled"),this.ref)},setTheme:r,boundComponent:!1,bind:function(e){if(e.isInstanceOf(s))e=e.get("input");else if(!e.isImplementedBy(o))throw"Label cannot bind a non-component element.";e=e.getComponent();var n=e.getAttr("id");return t.isUnset(n)&&(n=a(),e.setAttr("id",n)),this.getComponent().setAttr("for",n),this.set("boundComponent",e),this.ref},getBoundComponent:function(){return this.get("boundComponent")},isBound:function(){return this.get("boundComponent")!==!1},focus:function(){return this.isBound()&&this.getBoundComponent().focus(),this.ref}}).implement(o)}),define("burner/ui/Message",["./Element","./Icon","./utils/setTheme"],function(t,e,n){return t.extend({init:function(t,n){this["super"]();var i,s;switch(n){case"WARNING":i="jb-warning",s="warning";break;case"DANGER":i="jb-danger",s="minus-circle";break;case"SUCCESS":i="jb-success",s="check-circle";break;case"INFO":i="jb-info",s="info-circle";break;default:case"PRIMARY":i="jb-primary",s="info-circle"}this.addClass("jb-message "+i),this.add(e["new"](s+" jb-message-icon"),t)}})}),define("burner/ui/Notifier",["./Document","./Element","./Icon"],function(t,e,n){function i(){this.addClass("jb-notification-slideup")}function s(){this.remove()}function r(){this.addClass("jb-notification-fadein")}var o;return e.extend({init:function(a,u){this["super"](),o||t["new"]().add(o=e["new"]().addClass("jb-notifier"));var h,c;switch(u){case"PRIMARY":h="jb-primary",c="info-circle";break;case"WARNING":h="jb-warning",c="warning";break;case"DANGER":h="jb-danger",c="minus-circle";break;case"SUCCESS":h="jb-success",c="check-circle";break;case"INFO":default:h="jb-info",c="info-circle"}var l=e["new"]().addClass("jb-notification "+h).add(e["new"]().addClass("jb-notification-content").add(n["new"](c),a));o.prepend(l),setTimeout(r.bind(l),50),setTimeout(i.bind(l),5e3),setTimeout(s.bind(l),5400)}})}),define("burner/ui/RadioGroup",["../core/Utils","../core/EventHandler","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i){return e.extend({type:"RADIO",init:function(){this.set("options",[]),this.handle("change")},setValue:function(e){return this.set("value",e),t.each(this.get("options"),function(t){t.setValue(t.get("groupValue")==e,!0)}),this.ref},getValue:function(){return this.get("value")},setDefaultValue:function(t){return this.set("defaultValue",t),this.setValue(t),this.ref},resetValue:function(){var e=this.get("defaultValue");return t.isSet(e)||(e=this.get("options")[0].get("groupValue")),this.setValue(e),this.ref},setDisabled:function(e){return t.each(this.get("options"),function(t){t.setDisabled(e)}),this.ref},setTheme:function(e){return t.each(this.get("options"),function(t){t.setTheme(e)}),this.ref},focus:function(){this.get("options")[0].focus()}}).implement(n,i)}),define("burner/ui/Switch",["../core/Utils","./ComponentContainer","./Element","./Icon","./utils/setTheme","./interfaces/iComponent","./interfaces/iInput"],function(t,e,n,i,s,r,o){function a(){this.getValue()?this.addClass("jb-switch-checked"):this.removeClass("jb-switch-checked")}function u(){var e=this.get("value"),n=this.get("group"),i=n&&"RADIO"==n.get("type");if(i)var s=n.getValue();this.toggle();var r=this.get("value");e!=r&&(this.trigger("change",{value:r}),n&&(i&&t.each(n.get("options"),function(t){return t.get("groupValue")==s?(t.trigger("change",{value:!1}),!1):void 0}),n.trigger("change",{value:n.getValue()})))}return e.extend({value:!1,init:function(t){var e=n["new"]("button");e.addClass("jb-check"),this["super"](e),this.handle("change"),this.handle("click"),this.on("click",u.bind(this)),this.set("groupValue",t),e.addClass("jb-switch"),e.getDom().addEventListener("click",this.trigger.bind(this,"click"));var s=n["new"]().addClass("jb-switch-left").add(i["new"]("circle-o")),r=n["new"]().addClass("jb-switch-right").add(i["new"]("check")),o=n["new"]().addClass("jb-switch-container").add(s,n["new"]().addClass("jb-switch-middle-container").add(n["new"]().addClass("jb-switch-middle").add(n["new"]("b").add("lll"))),r);e.add(n["new"]().addClass("jb-switch-cover").add(o)),this.set("container",o)},bind:function(t){this.set("group",t);var e=t.get("options");return e.push(this),"RADIO"==t.get("type")&&1==e.length&&this.check(),this.ref},setDisabled:function(t){var e=this.getComponent();return t?e.setAttr("disabled","disabled"):e.removeAttr("disabled"),this.ref},setGroupValue:function(t){return this.set("groupValue",t)},setValue:function(t,e){if(!e){var n=this.get("group");if(n){if("RADIO"==n.get("type"))return t&&n.setValue(this.get("groupValue")),this.ref;var i=n.getValue(),s=this.get("groupValue");t?i.push(this.get("groupValue")):i.splice(i.indexOf(s),1)}}return this.set("value",t),a.call(this),this.ref},getValue:function(){return this.get("value")},toggle:function(){return this.setValue(!this.get("value"))},check:function(){return this.setValue(!0)},uncheck:function(){return this.setValue(!1)},defaultValue:!1,setDefaultValue:function(t){return this.set("defaultValue",t),this.setValue(t),this.ref},resetValue:function(){return this.setValue(this.get("defaultValue")),this.ref},setTheme:s,focus:function(){return this.getComponent().getDom().focus(),this.ref}}).implement(r,o)}),define("burner/ui/Tip",["../core/Utils","./Popup","./Element"],function(t,e,n){return e.extend({init:function(t){this["super"]();var e=n["new"]().addClass("jb-tip-content").add(t);this.addClass("jb-tip"),this.add(e)}})});